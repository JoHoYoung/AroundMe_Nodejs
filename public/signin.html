<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>사용자추가 테스트</title>
</head>
<body>
    <h1>사용자추가</h1>
    <br>
    <form method="post" action="/adduser" onsubmit="return validation();">
        <table>
            <tr>
                <p id="error">
                </p>
                <h3>아이디는 5글자이상 영어소문자, 숫자로 작성해주세요.</h3>
                <td><label>아이디</label></td>
                <td><input type="text" id="id" name="id" /></td>
            </tr>
            <tr>
                <td><label>비밀번호</label></td>
                <td><input type="password" id="password" name="password" /></td>
            </tr>
            <tr>
                <td><label>성별</label></td>
                <a onclick = 'sex("남")'>남</a>
                <a onclick = 'sex("여")'>여</a>
                <td><input type="hidden" id="sex" name="sex" /></td>
            </tr>
            <tr>
                <td><label>생년월일</label></td>
                <td>년<input type="text" id="year" name="year" /></td>
                <td>월
                    <select name="month">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </td>
                    <td><label>일</label></td>
                <td><input type="text" id="day" name="day" /></td>
            </tr>
            <tr>
                <td><label>휴대폰번호</label>
                <input type="text" id="name" name="phonefirst" /><input type="text" id="name" name="phonemiddle" />
                <input type="text" id="name" name="phonelast" /></td>
            </tr>
            <tr>
                <td><label>이름</label></td>
                <td><input type="text" id="name" name="name" /></td>
            </tr>

        </table>
        <input type="submit" value="전송" />
    </form>
    <script> 
        function validation()
        {var idstr = document.getElementById("id").value;
     // 아이디 오류 처리
            if (idstr.length < 5) {
                document.getElementById("error").innerHTML = "아이디 양식이 맞지 않습니다.";
                return false;
            }
            for (var i = 0; i < idstr.length; i++) {
                if (!(97 <= idstr[i].charCodeAt(0) && idstr[i].charCodeAt(0) <= 122) || (48 <= idstr[i].charCodeAt(0) && idstr[i].charCodeAt(0) <= 57)) {
                    document.getElementById("error").innerHTML = "대소문자 아이디 양식이 맞지 않습니다.";
                    return false;
                }
            }
////  비밀번호 오류처리
         if(document.getElementById("password").value.length<5)
             {
                 document.getElementById("error").innerHTML = "비밀번호 맞지 않습니다.";
                 return false;
             }
         
         //생년월일 오류처리
         if(document.getElementById("year").value.length<2)
             {
                 document.getElementById("error").innerHTML = "생년월일 양식이 맞지 않습니다.";
                 return false;
             }
         
         if(document.getElementById("day").value.length<1)
             {
                 document.getElementById("error").innerHTML = "생년월일 양식이 맞지 않습니다."; 
                 return false;
             }
         //이름 오류처리
         if(document.getElementById("name").value.length<2)
             {
                 document.getElementById("error").innerHTML = "이름을 확인해 주세요";
                 
                 return false;
             }
         //휴대폰 번호 오류처리
          if(document.getElementById("phonefirst").value.length<2)
             {
                 document.getElementById("error").innerHTML = "휴대폰 번호를 확인해 주세요";
                 return false;
             }
          if(document.getElementById("phonemiddle").value.length<2)
             {
                 document.getElementById("error").innerHTML = "휴대폰 번호를 확인해 주세요";
                 return false;
             }
          if(document.getElementById("phonelast").value.length<2)
             {
                 document.getElementById("error").innerHTML = "휴대폰 번호를 확인해 주세요";
                 return false;
             }
            return true;
        };
        
        function sex(text) {
        document.getElementById("sex").value=text;
        console.log(text);
        };
    </script>
</body>

</html>
